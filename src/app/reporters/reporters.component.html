<ng-container *transloco="let translate">
  <h2 class="eleme-cent">{{translate('reporters')}}</h2>
  <div class="table-wrapper mat-elevation-z2 desktop">
    <table mat-table [dataSource]="reporters">

      <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef> {{translate(column)}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;" (click)="onClick(row)"></tr>
    </table>
  </div>

  <!-- <div fxLayout="column" fxLayoutAlign="center center">
    <mat-card *ngFor="let reporter of reporters" class="card mobile">
      <p *ngFor="let column of displayedColumns" fxLayout="row" fxLayoutAlign="space-between center">
        <span> {{translate(column)}} </span>
        <span> {{reporter[column]}} </span>
      </p>
    </mat-card>
  </div> -->

  <div class="mobile">
    <p class="eleme-cent">{{translate('clickDetails')}}</p>
    <mat-accordion>

      <mat-expansion-panel *ngFor="let reporter of reporters" hideToggle>
        <mat-expansion-panel-header *ngFor="let column of displayedColumns">

          <mat-panel-title>
            <span> {{translate(column)}} </span>
          </mat-panel-title>

          <mat-panel-description>
            <span> {{reporter[column]}} </span>
          </mat-panel-description>

        </mat-expansion-panel-header>

        <app-reporters-details [reporter]="reporter" [headers]="headers" style="font-size: x-small;">
        </app-reporters-details>

      </mat-expansion-panel>
    </mat-accordion>
  </div>

</ng-container>

<mat-spinner *ngIf="loading"></mat-spinner>
